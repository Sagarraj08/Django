{% load static %}
<!--
Author: Colorlib
Author URL: https://colorlib.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html>
<head>
<title>Creative Colorlib SignUp Form</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- Custom Theme files -->
<link href="{% static 'css/signup.css'%}" rel="stylesheet" type="text/css" media="all" />
<!-- //Custom Theme files -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

<!-- web font -->
<link href="//fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i" rel="stylesheet">
<!-- //web font -->
</head>
<body>
	<!-- main -->
	<div class="main-w3layouts wrapper">
		<h1>Creative SignUp Form</h1>
		<div class="main-agileinfo">
			<div class="agileits-top">
				{% if msg %}
				<p style="color:red">{{msg}}</p>
				{% endif %}
				<form action="{% url 'signup' %}" method="post">
                    {% csrf_token %}
					<select class="text" class='text' name='usertype'>
						<option>-----select user type-----</option>
						<option value="buyer">Buyer</option>
						<option value="seller">Seller</option>
					</select>
					<input class="text" type="text" name="fname" placeholder="Username" required="">
					<input class="text email" type="email" name="email" id="email" placeholder="Email" required="">
					<span id='email_error'  style='color:red;'></span>
					<input class="text" type="password" name="pswd" placeholder="Password" required="">
					<input class="text w3lpass" type="password" name="cpswd" placeholder="Confirm Password" required="">
					<div class="wthree-text">
						{% comment %} <label class="anim">
							<input type="checkbox" class="checkbox" required="">
							<span>I Agree To The Terms & Conditions</span>
						</label> {% endcomment %}
						<div class="clear"> </div>
					</div>
					<input type="submit" value="SIGNUP">
				</form>
				<p>Don't have an Account? <a href="{% url 'login'%}"> Login Now!</a></p>
			</div>
		</div>
		<!-- copyright -->
		<div class="colorlibcopy-agile">
			<p>Â© 2018 Colorlib Signup Form. All rights reserved | Design by <a href="https://colorlib.com/" target="_blank">Colorlib</a></p>
		</div>
		<!-- //copyright -->
		<ul class="colorlib-bubbles">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
	</div>
	<!-- //main -->
	<script>
        
		$("#email").change(function(){
		  var email=$(this).val();

		  $.ajax({
			url: '/ajax/Form_Validation/',
			data: {'email':email},
			datatype: 'json',
			success: function (data){
			  if (data.is_taken) {
				document.getElementById("email_error").innerHTML="This Email ID is Already Exist"
			  }
			  else{

			  }
			}
		  });
		});

	</script>
</body>
</html>